<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FitAI Coach - AI Personalized Fitness Coach</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <div id="app">
        <!-- Welcome Screen -->
        <div id="welcome-screen" class="screen active">
            <div class="welcome-container">
                <div class="logo">
                    <img src="logo.png" alt="FitAI Coach Logo" class="logo-image-large">
                </div>
                <h1 class="welcome-title" data-en="Welcome to FitAI Coach" data-bm="Selamat Datang ke FitAI Coach">Welcome to FitAI Coach</h1>
                <p class="welcome-subtitle" data-en="Your AI-Powered Personal Fitness Journey Starts Here" data-bm="Perjalanan Kecergasan Peribadi Berkuasa AI Anda Bermula Di Sini">Your AI-Powered Personal Fitness Journey Starts Here</p>
                
                <div class="feature-cards">
                    <div class="feature-card">
                        <div class="feature-icon">üéØ</div>
                        <h3 data-en="Personalized Plans" data-bm="Pelan Diperibadikan">Personalized Plans</h3>
                        <p data-en="AI-generated workout plans tailored to your goals" data-bm="Pelan senaman dijana AI disesuaikan dengan matlamat anda">AI-generated workout plans tailored to your goals</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ü•ó</div>
                        <h3 data-en="Nutrition Tips" data-bm="Tip Pemakanan">Nutrition Tips</h3>
                        <p data-en="Local halal meal suggestions and healthy recipes" data-bm="Cadangan makanan halal tempatan dan resipi sihat">Local halal meal suggestions and healthy recipes</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üí¨</div>
                        <h3 data-en="AI Coach Chat" data-bm="Sembang Jurulatih AI">AI Coach Chat</h3>
                        <p data-en="24/7 motivational support and guidance" data-bm="Sokongan dan bimbingan motivasi 24/7">24/7 motivational support and guidance</p>
                    </div>
                </div>

                <button class="btn-primary" onclick="startOnboarding()" data-en="Get Started" data-bm="Mulakan">Get Started</button>
                
                <div class="language-toggle">
                    <button class="lang-btn active" onclick="setLanguage('en')">EN</button>
                    <button class="lang-btn" onclick="setLanguage('bm')">BM</button>
                </div>
            </div>
        </div>

        <!-- Onboarding Screen -->
        <div id="onboarding-screen" class="screen">
            <div class="onboarding-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="onboarding-progress"></div>
                </div>
                
                <div class="onboarding-step active" id="step-1">
                    <h2 data-en="Tell us about yourself" data-bm="Beritahu kami tentang diri anda">Tell us about yourself</h2>
                    <div class="form-group">
                        <label data-en="Name" data-bm="Nama">Name</label>
                        <input type="text" id="user-name" placeholder="John Doe">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label data-en="Age" data-bm="Umur">Age</label>
                            <input type="number" id="user-age" placeholder="30" min="13" max="100">
                        </div>
                        <div class="form-group">
                            <label data-en="Gender" data-bm="Jantina">Gender</label>
                            <select id="user-gender">
                                <option value="male" data-en="Male" data-bm="Lelaki">Male</option>
                                <option value="female" data-en="Female" data-bm="Perempuan">Female</option>
                                <option value="other" data-en="Other" data-bm="Lain-lain">Other</option>
                            </select>
                        </div>
                    </div>
                    <button class="btn-primary" onclick="nextStep(2)" data-en="Next" data-bm="Seterusnya">Next</button>
                </div>

                <div class="onboarding-step" id="step-2">
                    <h2 data-en="Your measurements" data-bm="Ukuran anda">Your measurements</h2>
                    <div class="form-row">
                        <div class="form-group">
                            <label data-en="Height (cm)" data-bm="Tinggi (cm)">Height (cm)</label>
                            <input type="number" id="user-height" placeholder="175" min="100" max="250">
                        </div>
                        <div class="form-group">
                            <label data-en="Weight (kg)" data-bm="Berat (kg)">Weight (kg)</label>
                            <input type="number" id="user-weight" placeholder="70" min="30" max="300">
                        </div>
                    </div>
                    <div class="form-group">
                        <label data-en="Activity Level" data-bm="Tahap Aktiviti">Activity Level</label>
                        <select id="activity-level">
                            <option value="sedentary" data-en="Sedentary (little or no exercise)" data-bm="Tidak aktif (sedikit atau tiada senaman)">Sedentary (little or no exercise)</option>
                            <option value="light" data-en="Lightly active (1-3 days/week)" data-bm="Sedikit aktif (1-3 hari/minggu)">Lightly active (1-3 days/week)</option>
                            <option value="moderate" data-en="Moderately active (3-5 days/week)" data-bm="Sederhana aktif (3-5 hari/minggu)">Moderately active (3-5 days/week)</option>
                            <option value="very" data-en="Very active (6-7 days/week)" data-bm="Sangat aktif (6-7 hari/minggu)">Very active (6-7 days/week)</option>
                            <option value="extra" data-en="Extra active (athlete)" data-bm="Sangat aktif (atlet)">Extra active (athlete)</option>
                        </select>
                    </div>
                    <div class="btn-group">
                        <button class="btn-secondary" onclick="prevStep(1)" data-en="Back" data-bm="Kembali">Back</button>
                        <button class="btn-primary" onclick="nextStep(3)" data-en="Next" data-bm="Seterusnya">Next</button>
                    </div>
                </div>

                <div class="onboarding-step" id="step-3">
                    <h2 data-en="Your fitness goals" data-bm="Matlamat kecergasan anda">Your fitness goals</h2>
                    <div class="form-group">
                        <label data-en="Fitness Level" data-bm="Tahap Kecergasan">Fitness Level</label>
                        <select id="fitness-level">
                            <option value="beginner" data-en="Beginner" data-bm="Pemula">Beginner</option>
                            <option value="intermediate" data-en="Intermediate" data-bm="Pertengahan">Intermediate</option>
                            <option value="advanced" data-en="Advanced" data-bm="Mahir">Advanced</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label data-en="Primary Goal" data-bm="Matlamat Utama">Primary Goal</label>
                        <select id="user-goal">
                            <option value="lose-weight" data-en="Lose Weight" data-bm="Kurangkan Berat">Lose Weight</option>
                            <option value="build-muscle" data-en="Build Muscle" data-bm="Bina Otot">Build Muscle</option>
                            <option value="get-fit" data-en="Get Fit & Healthy" data-bm="Jadi Cergas & Sihat">Get Fit & Healthy</option>
                            <option value="flexibility" data-en="Improve Flexibility" data-bm="Tingkatkan Fleksibiliti">Improve Flexibility</option>
                            <option value="endurance" data-en="Build Endurance" data-bm="Bina Daya Tahan">Build Endurance</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label data-en="Dietary Preference" data-bm="Keutamaan Diet">Dietary Preference</label>
                        <select id="diet-preference">
                            <option value="halal" data-en="Halal" data-bm="Halal">Halal</option>
                            <option value="vegetarian" data-en="Vegetarian" data-bm="Vegetarian">Vegetarian</option>
                            <option value="vegan" data-en="Vegan" data-bm="Vegan">Vegan</option>
                            <option value="no-restriction" data-en="No Restriction" data-bm="Tiada Sekatan">No Restriction</option>
                        </select>
                    </div>
                    <div class="btn-group">
                        <button class="btn-secondary" onclick="prevStep(2)" data-en="Back" data-bm="Kembali">Back</button>
                        <button class="btn-primary" onclick="completeOnboarding()" data-en="Complete Setup" data-bm="Selesaikan Persediaan">Complete Setup</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Dashboard -->
        <div id="dashboard-screen" class="screen">
            <nav class="navbar">
                <div class="nav-brand">FitAI Coach</div>
                <div class="nav-actions">
                    <button class="btn-icon" onclick="toggleTheme()" title="Toggle Theme">üåì</button>
                    <button class="btn-upgrade" onclick="showSubscription()" data-en="Upgrade to Premium" data-bm="Naik Taraf ke Premium">Upgrade to Premium</button>
                    <button class="btn-icon" onclick="logout()" title="Logout">üö™</button>
                </div>
            </nav>

            <div class="dashboard-container">
                <div class="sidebar">
                    <div class="menu-item active" onclick="showSection('home')" data-section="home">
                        <span class="menu-icon">üè†</span>
                        <span data-en="Home" data-bm="Laman Utama">Home</span>
                    </div>
                    <div class="menu-item" onclick="showSection('workout')" data-section="workout">
                        <span class="menu-icon">üí™</span>
                        <span data-en="Workout Plan" data-bm="Pelan Senaman">Workout Plan</span>
                    </div>
                    <div class="menu-item" onclick="showSection('nutrition')" data-section="nutrition">
                        <span class="menu-icon">ü•ó</span>
                        <span data-en="Nutrition" data-bm="Pemakanan">Nutrition</span>
                    </div>
                    <div class="menu-item" onclick="showSection('chat')" data-section="chat">
                        <span class="menu-icon">üí¨</span>
                        <span data-en="AI Coach" data-bm="Jurulatih AI">AI Coach</span>
                    </div>
                    <div class="menu-item" onclick="showSection('progress')" data-section="progress">
                        <span class="menu-icon">üìä</span>
                        <span data-en="Progress" data-bm="Kemajuan">Progress</span>
                    </div>
                    <div class="menu-item" onclick="showSection('settings')" data-section="settings">
                        <span class="menu-icon">‚öôÔ∏è</span>
                        <span data-en="Settings" data-bm="Tetapan">Settings</span>
                    </div>
                </div>

                <div class="main-content">
                    <!-- Home Section -->
                    <section id="home-section" class="content-section active">
                        <div class="welcome-back">
                            <h1 data-en="Welcome back" data-bm="Selamat kembali">Welcome back, <span id="user-name-display"></span>!</h1>
                            <p class="motivation-quote" id="daily-quote"></p>
                        </div>

                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-icon">üéØ</div>
                                <div class="stat-info">
                                    <h3 id="user-goal-display">Lose Weight</h3>
                                    <p data-en="Current Goal" data-bm="Matlamat Semasa">Current Goal</p>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">‚öñÔ∏è</div>
                                <div class="stat-info">
                                    <h3 id="user-weight-display">70 kg</h3>
                                    <p data-en="Current Weight" data-bm="Berat Semasa">Current Weight</p>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">üî•</div>
                                <div class="stat-info">
                                    <h3 id="user-bmr-display">1800</h3>
                                    <p data-en="Daily Calories" data-bm="Kalori Harian">Daily Calories</p>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">üìÖ</div>
                                <div class="stat-info">
                                    <h3 id="workout-streak">0</h3>
                                    <p data-en="Day Streak" data-bm="Hari Berturut-turut">Day Streak</p>
                                </div>
                            </div>
                        </div>

                        <div class="today-workout">
                            <h2 data-en="Today's Workout" data-bm="Senaman Hari Ini">Today's Workout</h2>
                            <div id="today-workout-content" class="workout-preview">
                                <p data-en="Generate your first workout plan to get started!" data-bm="Jana pelan senaman pertama anda untuk bermula!">Generate your first workout plan to get started!</p>
                                <button class="btn-primary" onclick="showSection('workout')" data-en="Generate Plan" data-bm="Jana Pelan">Generate Plan</button>
                            </div>
                        </div>

                        <div class="quick-actions">
                            <button class="action-btn" onclick="showSection('workout')">
                                <span class="action-icon">üí™</span>
                                <span data-en="New Workout Plan" data-bm="Pelan Senaman Baru">New Workout Plan</span>
                            </button>
                            <button class="action-btn" onclick="showSection('nutrition')">
                                <span class="action-icon">ü•ó</span>
                                <span data-en="Meal Suggestions" data-bm="Cadangan Makanan">Meal Suggestions</span>
                            </button>
                            <button class="action-btn" onclick="showSection('chat')">
                                <span class="action-icon">üí¨</span>
                                <span data-en="Chat with Coach" data-bm="Sembang dengan Jurulatih">Chat with Coach</span>
                            </button>
                        </div>
                    </section>

                    <!-- Workout Section -->
                    <section id="workout-section" class="content-section">
                        <div class="section-header">
                            <h1 data-en="Workout Plan Generator" data-bm="Penjana Pelan Senaman">Workout Plan Generator</h1>
                            <button class="btn-primary" onclick="generateWorkoutPlan()" id="generate-workout-btn" data-en="Generate New Plan" data-bm="Jana Pelan Baru">Generate New Plan</button>
                        </div>

                        <div class="plan-options">
                            <div class="form-group">
                                <label data-en="Plan Duration" data-bm="Tempoh Pelan">Plan Duration</label>
                                <select id="plan-duration">
                                    <option value="7">7 Days</option>
                                    <option value="14">14 Days (Premium)</option>
                                    <option value="30">30 Days (Premium)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label data-en="Equipment" data-bm="Peralatan">Equipment</label>
                                <select id="plan-equipment">
                                    <option value="none" data-en="No Equipment (Home)" data-bm="Tiada Peralatan (Rumah)">No Equipment (Home)</option>
                                    <option value="basic" data-en="Basic (Dumbbells, Bands)" data-bm="Asas (Dumbbell, Band)">Basic (Dumbbells, Bands)</option>
                                    <option value="gym" data-en="Full Gym Access" data-bm="Akses Gim Penuh">Full Gym Access</option>
                                </select>
                            </div>
                        </div>

                        <div id="workout-plan-container" class="workout-plan">
                            <div class="empty-state">
                                <div class="empty-icon">üí™</div>
                                <h3 data-en="No workout plan yet" data-bm="Belum ada pelan senaman">No workout plan yet</h3>
                                <p data-en="Click 'Generate New Plan' to create your personalized workout plan" data-bm="Klik 'Jana Pelan Baru' untuk cipta pelan senaman diperibadikan anda">Click 'Generate New Plan' to create your personalized workout plan</p>
                            </div>
                        </div>
                    </section>

                    <!-- Nutrition Section -->
                    <section id="nutrition-section" class="content-section">
                        <div class="section-header">
                            <h1 data-en="Nutrition Tips & Meal Plans" data-bm="Tip Pemakanan & Pelan Makanan">Nutrition Tips & Meal Plans</h1>
                            <button class="btn-primary" onclick="generateNutritionPlan()" data-en="Get Daily Tips" data-bm="Dapatkan Tip Harian">Get Daily Tips</button>
                        </div>

                        <div class="nutrition-stats">
                            <div class="nutrition-card">
                                <h3 data-en="Daily Calorie Target" data-bm="Sasaran Kalori Harian">Daily Calorie Target</h3>
                                <div class="calorie-display">
                                    <span class="calorie-number" id="calorie-target">2000</span>
                                    <span class="calorie-unit">kcal</span>
                                </div>
                            </div>
                            <div class="macro-breakdown">
                                <div class="macro-item">
                                    <span class="macro-label" data-en="Protein" data-bm="Protein">Protein</span>
                                    <span class="macro-value" id="protein-target">150g</span>
                                </div>
                                <div class="macro-item">
                                    <span class="macro-label" data-en="Carbs" data-bm="Karbohidrat">Carbs</span>
                                    <span class="macro-value" id="carbs-target">200g</span>
                                </div>
                                <div class="macro-item">
                                    <span class="macro-label" data-en="Fats" data-bm="Lemak">Fats</span>
                                    <span class="macro-value" id="fats-target">65g</span>
                                </div>
                            </div>
                        </div>

                        <div id="nutrition-plan-container" class="nutrition-content">
                            <div class="empty-state">
                                <div class="empty-icon">ü•ó</div>
                                <h3 data-en="No meal plan yet" data-bm="Belum ada pelan makanan">No meal plan yet</h3>
                                <p data-en="Get personalized meal suggestions based on your goals" data-bm="Dapatkan cadangan makanan diperibadikan berdasarkan matlamat anda">Get personalized meal suggestions based on your goals</p>
                            </div>
                        </div>
                    </section>

                    <!-- Chat Section -->
                    <section id="chat-section" class="content-section">
                        <div class="section-header">
                            <h1 data-en="AI Coach Chat" data-bm="Sembang Jurulatih AI">AI Coach Chat</h1>
                            <div class="chat-status">
                                <span class="status-dot"></span>
                                <span data-en="Online" data-bm="Dalam Talian">Online</span>
                            </div>
                        </div>

                        <div class="chat-container">
                            <div class="chat-messages" id="chat-messages">
                                <div class="chat-message bot">
                                    <div class="message-avatar">ü§ñ</div>
                                    <div class="message-content">
                                        <p data-en="Hello! I'm your AI fitness coach. How can I help you today?" data-bm="Hello! Saya jurulatih kecergasan AI anda. Bagaimana saya boleh membantu anda hari ini?">Hello! I'm your AI fitness coach. How can I help you today?</p>
                                    </div>
                                </div>
                            </div>
                            <div class="chat-input-container">
                                <input type="text" id="chat-input" placeholder="Type your message..." data-en-placeholder="Type your message..." data-bm-placeholder="Taip mesej anda...">
                                <button class="btn-send" onclick="sendMessage()" data-en="Send" data-bm="Hantar">Send</button>
                            </div>
                            <div class="chat-suggestions">
                                <button class="suggestion-chip" onclick="quickChat('motivation')" data-en="I need motivation" data-bm="Saya perlukan motivasi">I need motivation</button>
                                <button class="suggestion-chip" onclick="quickChat('tired')" data-en="I'm too tired today" data-bm="Saya terlalu penat hari ini">I'm too tired today</button>
                                <button class="suggestion-chip" onclick="quickChat('progress')" data-en="Check my progress" data-bm="Semak kemajuan saya">Check my progress</button>
                            </div>
                        </div>
                    </section>

                    <!-- Progress Section -->
                    <section id="progress-section" class="content-section">
                        <div class="section-header">
                            <h1 data-en="Progress Tracking" data-bm="Penjejakan Kemajuan">Progress Tracking</h1>
                            <button class="btn-primary" onclick="logProgress()" data-en="Log Today" data-bm="Log Hari Ini">Log Today</button>
                        </div>

                        <div class="progress-tabs">
                            <button class="tab-btn active" onclick="showProgressTab('weight')" data-en="Weight" data-bm="Berat">Weight</button>
                            <button class="tab-btn" onclick="showProgressTab('workouts')" data-en="Workouts" data-bm="Senaman">Workouts</button>
                            <button class="tab-btn" onclick="showProgressTab('photos')" data-en="Photos" data-bm="Foto">Photos</button>
                        </div>

                        <div id="progress-weight" class="progress-tab-content active">
                            <div class="chart-container">
                                <canvas id="weight-chart"></canvas>
                            </div>
                            <div class="progress-log">
                                <h3 data-en="Weight History" data-bm="Sejarah Berat">Weight History</h3>
                                <div id="weight-log-list" class="log-list"></div>
                            </div>
                        </div>

                        <div id="progress-workouts" class="progress-tab-content">
                            <div class="workout-stats">
                                <div class="stat-box">
                                    <h3 id="total-workouts">0</h3>
                                    <p data-en="Total Workouts" data-bm="Jumlah Senaman">Total Workouts</p>
                                </div>
                                <div class="stat-box">
                                    <h3 id="total-minutes">0</h3>
                                    <p data-en="Minutes Exercised" data-bm="Minit Bersenam">Minutes Exercised</p>
                                </div>
                                <div class="stat-box">
                                    <h3 id="calories-burned">0</h3>
                                    <p data-en="Calories Burned" data-bm="Kalori Dibakar">Calories Burned</p>
                                </div>
                            </div>
                            <div id="workout-history" class="workout-history"></div>
                        </div>

                        <div id="progress-photos" class="progress-tab-content">
                            <div class="photo-grid" id="progress-photos-grid">
                                <div class="empty-state">
                                    <div class="empty-icon">üì∏</div>
                                    <h3 data-en="No progress photos yet" data-bm="Belum ada foto kemajuan">No progress photos yet</h3>
                                    <p data-en="Start tracking your transformation!" data-bm="Mula jejak transformasi anda!">Start tracking your transformation!</p>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Settings Section -->
                    <section id="settings-section" class="content-section">
                        <h1 data-en="Settings" data-bm="Tetapan">Settings</h1>
                        
                        <div class="settings-group">
                            <h3 data-en="Profile" data-bm="Profil">Profile</h3>
                            <div class="setting-item">
                                <label data-en="Name" data-bm="Nama">Name</label>
                                <input type="text" id="settings-name" class="settings-input">
                            </div>
                            <div class="setting-item">
                                <label data-en="Email" data-bm="E-mel">Email</label>
                                <input type="email" id="settings-email" class="settings-input" placeholder="your@email.com">
                            </div>
                            <button class="btn-secondary" onclick="updateProfile()" data-en="Update Profile" data-bm="Kemas Kini Profil">Update Profile</button>
                        </div>

                        <div class="settings-group">
                            <h3 data-en="Preferences" data-bm="Keutamaan">Preferences</h3>
                            <div class="setting-item">
                                <label data-en="Language" data-bm="Bahasa">Language</label>
                                <select id="settings-language" onchange="setLanguage(this.value)">
                                    <option value="en">English</option>
                                    <option value="bm">Bahasa Melayu</option>
                                </select>
                            </div>
                            <div class="setting-item">
                                <label data-en="Theme" data-bm="Tema">Theme</label>
                                <select id="settings-theme" onchange="setTheme(this.value)">
                                    <option value="light" data-en="Light" data-bm="Terang">Light</option>
                                    <option value="dark" data-en="Dark" data-bm="Gelap">Dark</option>
                                    <option value="auto" data-en="Auto" data-bm="Auto">Auto</option>
                                </select>
                            </div>
                        </div>

                        <div class="settings-group">
                            <h3 data-en="Notifications" data-bm="Pemberitahuan">Notifications</h3>
                            <div class="setting-item toggle-item">
                                <label data-en="Daily Workout Reminders" data-bm="Peringatan Senaman Harian">Daily Workout Reminders</label>
                                <label class="toggle">
                                    <input type="checkbox" id="notif-workout" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="setting-item toggle-item">
                                <label data-en="Meal Time Reminders" data-bm="Peringatan Waktu Makan">Meal Time Reminders</label>
                                <label class="toggle">
                                    <input type="checkbox" id="notif-meal" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="setting-item toggle-item">
                                <label data-en="Progress Updates" data-bm="Kemas Kini Kemajuan">Progress Updates</label>
                                <label class="toggle">
                                    <input type="checkbox" id="notif-progress" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>

                        <div class="settings-group">
                            <h3 data-en="Subscription" data-bm="Langganan">Subscription</h3>
                            <div class="subscription-status">
                                <div class="status-badge free" id="subscription-badge">
                                    <span data-en="Free Plan" data-bm="Pelan Percuma">Free Plan</span>
                                </div>
                                <p data-en="Upgrade to Premium for unlimited features" data-bm="Naik taraf ke Premium untuk ciri tanpa had">Upgrade to Premium for unlimited features</p>
                                <button class="btn-primary" onclick="showSubscription()" data-en="View Plans" data-bm="Lihat Pelan">View Plans</button>
                            </div>
                        </div>

                        <div class="settings-group">
                            <h3 data-en="Account" data-bm="Akaun">Account</h3>
                            <div class="subscription-status">
                                <p data-en="Logged in as:" data-bm="Log masuk sebagai:">Logged in as: <strong id="logged-in-email"></strong></p>
                                <button class="btn-secondary" onclick="logout()" data-en="Logout" data-bm="Log Keluar">Logout</button>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </div>

        <!-- Subscription Modal -->
        <div id="subscription-modal" class="modal">
            <div class="modal-content">
                <span class="modal-close" onclick="closeSubscription()">&times;</span>
                <h2 data-en="Upgrade to Premium" data-bm="Naik Taraf ke Premium">Upgrade to Premium</h2>
                <p class="modal-subtitle" data-en="Unlock unlimited AI-powered fitness coaching" data-bm="Buka kunci bimbingan kecergasan berkuasa AI tanpa had">Unlock unlimited AI-powered fitness coaching</p>
                
                <div class="pricing-cards">
                    <div class="pricing-card">
                        <h3 data-en="Free" data-bm="Percuma">Free</h3>
                        <div class="price">
                            <span class="price-amount">RM0</span>
                            <span class="price-period" data-en="/month" data-bm="/bulan">/month</span>
                        </div>
                        <ul class="features-list">
                            <li>‚úì <span data-en="1 workout plan per week" data-bm="1 pelan senaman seminggu">1 workout plan per week</span></li>
                            <li>‚úì <span data-en="Basic nutrition tips" data-bm="Tip pemakanan asas">Basic nutrition tips</span></li>
                            <li>‚úì <span data-en="Limited AI chat" data-bm="Sembang AI terhad">Limited AI chat</span></li>
                            <li>‚úì <span data-en="Basic progress tracking" data-bm="Penjejakan kemajuan asas">Basic progress tracking</span></li>
                        </ul>
                        <button class="btn-secondary" disabled data-en="Current Plan" data-bm="Pelan Semasa">Current Plan</button>
                    </div>
                    
                    <div class="pricing-card featured">
                        <div class="featured-badge" data-en="Most Popular" data-bm="Paling Popular">Most Popular</div>
                        <h3 data-en="Premium" data-bm="Premium">Premium</h3>
                        <div class="price">
                            <span class="price-amount">RM29</span>
                            <span class="price-period" data-en="/month" data-bm="/bulan">/month</span>
                        </div>
                        <ul class="features-list">
                            <li>‚úì <span data-en="Unlimited workout plans" data-bm="Pelan senaman tanpa had">Unlimited workout plans</span></li>
                            <li>‚úì <span data-en="Personalized meal plans" data-bm="Pelan makanan diperibadikan">Personalized meal plans</span></li>
                            <li>‚úì <span data-en="Unlimited AI coach chat" data-bm="Sembang jurulatih AI tanpa had">Unlimited AI coach chat</span></li>
                            <li>‚úì <span data-en="Advanced progress tracking" data-bm="Penjejakan kemajuan lanjutan">Advanced progress tracking</span></li>
                            <li>‚úì <span data-en="Exercise demo images" data-bm="Imej demo senaman">Exercise demo images</span></li>
                            <li>‚úì <span data-en="Priority support" data-bm="Sokongan keutamaan">Priority support</span></li>
                        </ul>
                        <button class="btn-primary" onclick="subscribePremium()" data-en="Upgrade Now" data-bm="Naik Taraf Sekarang">Upgrade Now</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Loading Overlay -->
        <div id="loading-overlay" class="loading-overlay">
            <div class="loading-spinner"></div>
            <p id="loading-text" data-en="Generating your personalized plan..." data-bm="Menjana pelan diperibadikan anda...">Generating your personalized plan...</p>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-analytics-compat.js"></script>
    
    <!-- Firebase Configuration & Functions -->
    <script src="firebase-config.js"></script>
    <script src="firebase-auth.js"></script>
    <script src="firebase-database.js"></script>
    
    <!-- Main App Script -->
    <script src="app.js"></script>
</body>
</html>
